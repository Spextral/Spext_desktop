(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{363:function(e,t,o){var content=o(374);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("39b697b0",content,!0,{sourceMap:!1})},364:function(e,t,o){var content=o(376);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("e14f89aa",content,!0,{sourceMap:!1})},365:function(e,t,o){var content=o(381);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("62f33dd8",content,!0,{sourceMap:!1})},366:function(e,t,o){var content=o(383);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("c728bea8",content,!0,{sourceMap:!1})},367:function(e,t,o){var content=o(385);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("05d156de",content,!0,{sourceMap:!1})},368:function(e,t,o){var content=o(387);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(18).default)("6759f5ab",content,!0,{sourceMap:!1})},373:function(e,t,o){"use strict";var r=o(363);o.n(r).a},374:function(e,t,o){(t=o(17)(!1)).push([e.i,".loading[data-v-62abadfe]{width:100%;height:100%}",""]),e.exports=t},375:function(e,t,o){"use strict";var r=o(364);o.n(r).a},376:function(e,t,o){(t=o(17)(!1)).push([e.i,".room[data-v-80f95072]{display:block;height:26px;margin-top:.25rem;padding-left:12px;font-size:14px;cursor:pointer;transition:color .2s,background-color ease;position:relative}.controls[data-v-80f95072]{text-align:right;padding:8px 20px}.controls .i[data-v-80f95072]{cursor:pointer;font-size:16px}",""]),e.exports=t},377:function(e,t,o){"use strict";var r=o(4),n=o(32),c=o(45),l=o(198),m=o(103),d=o(20),f=o(69).f,v=o(104).f,h=o(15).f,x=o(378).trim,w=r.Number,O=w,y=w.prototype,_="Number"==c(o(143)(y)),I="trim"in String.prototype,j=function(e){var t=m(e,!1);if("string"==typeof t&&t.length>2){var o,r,n,c=(t=I?t.trim():x(t,3)).charCodeAt(0);if(43===c||45===c){if(88===(o=t.charCodeAt(2))||120===o)return NaN}else if(48===c){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var code,l=t.slice(2),i=0,d=l.length;i<d;i++)if((code=l.charCodeAt(i))<48||code>n)return NaN;return parseInt(l,r)}}return+t};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof w&&(_?d((function(){y.valueOf.call(o)})):"Number"!=c(o))?l(new O(j(t)),o,w):j(t)};for(var C,k=o(12)?f(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)n(O,C=k[E])&&!n(w,C)&&h(w,C,v(O,C));w.prototype=y,y.constructor=w,o(21)(r,"Number",w)}},378:function(e,t,o){var r=o(6),n=o(46),c=o(20),l=o(379),m="["+l+"]",d=RegExp("^"+m+m+"*"),f=RegExp(m+m+"*$"),v=function(e,t,o){var n={},m=c((function(){return!!l[e]()||"​"!="​"[e]()})),d=n[e]=m?t(h):l[e];o&&(n[o]=d),r(r.P+r.F*m,"String",n)},h=v.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(f,"")),e};e.exports=v},379:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},380:function(e,t,o){"use strict";var r=o(365);o.n(r).a},381:function(e,t,o){(t=o(17)(!1)).push([e.i,".dialog-container[data-v-1818c063]{display:flex;justify-content:space-between}.invite-member[data-v-1818c063]{position:relative;width:100%}.title[data-v-1818c063]{line-height:24px;font-size:20px;color:#303133;margin-bottom:30px}.format[data-v-1818c063]{display:flex;margin-bottom:25px;width:100%}",""]),e.exports=t},382:function(e,t,o){"use strict";var r=o(366);o.n(r).a},383:function(e,t,o){(t=o(17)(!1)).push([e.i,'.member-item[data-v-54e2ba6a]{width:var(--members-opening-width);display:flex;padding-right:20px}.member-item .member-add[data-v-54e2ba6a]{width:var(--members-width);text-align:center;font-size:22px;padding:10px 0 10px 5px}.member-item .member-add i[data-v-54e2ba6a]{cursor:pointer;color:var(--color-border);transition:.2s}.member-item .member-add i[data-v-54e2ba6a]:hover{color:unset}.member-item .member-room[data-v-54e2ba6a]{flex:1;display:flex;align-items:center;padding-left:10px}.member-icon[data-v-54e2ba6a]{width:var(--members-width);padding:8px 0}.member-icon div[data-v-54e2ba6a]{width:var(--icon-size-small);height:var(--icon-size-small);margin:0 auto;border-radius:50%;background:50%/cover no-repeat;cursor:pointer;opacity:.7}.member-icon div.isOnline[data-v-54e2ba6a]{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1;position:relative}.member-icon div.isOnline[data-v-54e2ba6a]:after{content:"";position:absolute;bottom:-12.5%;right:-12.5%;width:50%;height:50%;background:#43b581;border:2px solid var(--color-page);border-radius:50%}.member-name[data-v-54e2ba6a]{flex:1;border-bottom:1px solid var(--color-border);font-weight:700;display:flex;align-items:center;padding-left:10px}.dialog[data-v-54e2ba6a] .el-dialog__body{padding:20px 40px 50px}.dialog[data-v-54e2ba6a] .el-dialog__wrapper,.dialog[data-v-54e2ba6a] .v-modal{top:var(--titlebar-height)}',""]),e.exports=t},384:function(e,t,o){"use strict";var r=o(367);o.n(r).a},385:function(e,t,o){(t=o(17)(!1)).push([e.i,".comment-view[data-v-8c58609e]{height:100%;position:fixed;left:inherit;right:var(--members-opening-width)}.comments-container[data-v-8c58609e]{height:calc(100% - 60px);overflow:auto}.comment .comment-body i[data-v-8c58609e]{cursor:pointer}.comment .comment-body .comment-message[data-v-8c58609e]{border:solid;border-width:1px;border-radius:10px;display:inline-block;font-size:18px;padding-left:3px;padding-right:3px;margin:3px;word-wrap:break-word;max-width:80%;text-align:left}.comment .left-flush[data-v-8c58609e]{text-align:left}.comment .right-flush[data-v-8c58609e]{text-align:right}.comment .right-flush .comment-message[data-v-8c58609e]{background-color:var(--color-blue);font-weight:500}.comments-panel .comment-input[data-v-8c58609e]{width:calc(100% - 70px);display:inline-block}.comments-panel .comment-input input[data-v-8c58609e]{border:none;background:var(--color-sub);font-size:20px;padding:12px;width:100%;color:var(--font-base);border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.comments-panel .comment-input input[data-v-8c58609e]::-moz-placeholder{color:var(--color-date);font-size:14px}.comments-panel .comment-input input[data-v-8c58609e]:-ms-input-placeholder{color:var(--color-date);font-size:14px}.comments-panel .comment-input input[data-v-8c58609e]::-ms-input-placeholder{color:var(--color-date);font-size:14px}.comments-panel .comment-input input[data-v-8c58609e]::placeholder{color:var(--color-date);font-size:14px}.comments-panel .comment-input input[data-v-8c58609e]:focus{outline:none}.comments-panel .michrophone-button[data-v-8c58609e]{height:48px;width:60px;border:solid;opacity:1%;border-radius:6px;padding:3px 6px;display:inline-block;cursor:pointer;text-align:center}.comments-panel .border-red[data-v-8c58609e]{border-color:red}.comments-panel .michrophone-button i[data-v-8c58609e]{padding-top:1px}.comments-panel .michrophone-button[data-v-8c58609e]:hover{opacity:unset}.comments-panel .michrophone-button .fa-microphone[data-v-8c58609e]{color:red}.dialog[data-v-8c58609e] .el-dialog__body{padding:20px 40px 50px}.dialog[data-v-8c58609e] .el-dialog__wrapper,.dialog[data-v-8c58609e] .v-modal{top:var(--titlebar-height)}.folder-members[data-v-8c58609e]{height:100%;overflow:auto;position:fixed;right:0;left:calc(100% - var(--members-opening-width))}",""]),e.exports=t},386:function(e,t,o){"use strict";var r=o(368);o.n(r).a},387:function(e,t,o){(t=o(17)(!1)).push([e.i,".room-container{overflow:auto;left:0;right:calc(100% - var(--room-ratio))}.room-container,.talk-container{height:100%;color:var(--font-sub);position:fixed}.talk-container{left:var(--room-ratio);right:0}",""]),e.exports=t},388:function(e,t,o){"use strict";o.r(t);o(44),o(19),o(14),o(7),o(31),o(10);var r=o(2),n=o(8),c=o(61),l=(o(373),o(11));function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{LoadingPanel:Object(l.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loading"})}),[],!1,null,"62abadfe",null).exports},data:function(){return{loading:!0,intervalIdOfViewingRoom:null}},computed:d(d(d({},Object(c.c)("room",["rooms"])),Object(c.c)("user",["id"])),Object(c.b)("room",["roomInfo"])),created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("room/fetchRooms");case 2:e.loading=!1,e.$setInterval((function(){e.$store.dispatch("room/fetchRooms")}),1e4);case 4:case"end":return t.stop()}}),t)})))()},methods:{openRoomNamePrompt:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$prompt("Please input name","Create new room",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:/^[a-z0-9]{3,20}$/,inputErrorMessage:"Invalid name"}).catch((function(){return{}}));case 2:if(o=t.sent,r=o.value){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.$store.dispatch("room/createRoom",{userId:e.id,name:r});case 8:n=t.sent,e.enterRoom(n.id);case 10:case"end":return t.stop()}}),t)})))()},enterRoom:function(e){var t=this;this.intervalIdOfViewingRoom&&this.$clearInterval(this.intervalIdOfViewingRoom),this.$store.dispatch("room/setRoomId",e),this.$store.dispatch("user/fetchUsers",e),this.intervalIdOfViewingRoom=this.$setInterval((function(){t.$store.dispatch("room/fetchRoomInfo",e),t.$store.dispatch("user/fetchUsers",e)}),1e4)},logout:function(){this.$store.dispatch("login/logout"),this.$router.push("/login")}}},v=(o(375),Object(l.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.loading?o("loading-panel"):e._e(),e._v(" "),o("div",{staticClass:"controls room"},[o("i",{staticClass:"fas fa-folder-plus",attrs:{title:"Create new room"},on:{click:e.openRoomNamePrompt}})]),e._v(" "),e._l(e.rooms,(function(t){return o("div",{key:t.id,staticClass:"room",on:{click:function(o){return e.enterRoom(t.id)}}},[o("span",[e._v(e._s(t.name))])])}))],2)}),[],!1,null,"80f95072",null).exports),h=(o(377),{data:function(){return{email:"",comment:""}},computed:{notHaveEmail:function(){return!/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(this.email)}},methods:{invite:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.email,r=e.$store.state.room.roomId,t.next=4,e.$store.dispatch("invite/getUserInfo",{email:o,roomId:r});case 4:e.comment=t.sent,e.email="";case 6:case"end":return t.stop()}}),t)})))()}}});o(380);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{AddDialog:Object(l.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"dialog-container"},[o("div",{staticClass:"invite-member"},[o("div",[o("h1",{staticClass:"title"},[e._v("Invite box")]),e._v(" "),o("div",{staticClass:"format"},[o("el-input",{attrs:{placeholder:"Please input e-mail",type:"email",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),o("div",{staticClass:"format"},[o("el-button",{attrs:{type:"info",disabled:e.notHaveEmail},on:{click:e.invite}},[e._v("Invite")])],1),e._v(" "),o("h3",[e._v(e._s(e.comment))])])])])}),[],!1,null,"1818c063",null).exports},props:{roomId:{type:Number,required:!0},roomName:{type:String,required:!1,default:""}},data:function(){return{dialogVisible:!1}},computed:w(w({},Object(c.b)("user",["sortedUsers"])),{},{userIconStyle:function(){return function(e){return{backgroundImage:"url(".concat(e,")")}}},userIconClass:function(){return function(e){return{name:e}}}}),methods:{openDialog:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("room/getroomId",e.roomId);case 2:e.dialogVisible=!e.dialogVisible;case 3:case"end":return t.stop()}}),t)})))()}}};o(382);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var I={components:{MembersItem:Object(l.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"member-item"},[o("div",{staticClass:"member-add"},[o("i",{staticClass:"fas fa-user-plus",attrs:{title:"ルームにメンバーを追加"},on:{click:e.openDialog}})]),e._v(" "),e.roomName?o("div",{staticClass:"member-room"},[e._v("Room: "+e._s(e.roomName))]):e._e()]),e._v(" "),e._l(e.sortedUsers(e.roomId),(function(t){return o("div",{key:t.id,staticClass:"member-item"},[o("div",{staticClass:"member-icon"},[o("div",{class:e.userIconClass(t.name),style:e.userIconStyle(t.icon)})]),e._v(" "),o("div",{staticClass:"member-name"},[e._v(e._s(t.name))])])})),e._v(" "),o("el-dialog",{staticClass:"dialog",attrs:{visible:e.dialogVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("add-dialog",{attrs:{visible:e.dialogVisible}})],1)],2)}),[],!1,null,"54e2ba6a",null).exports},data:function(){var e=this,t=new window.webkitSpeechRecognition;return t.lang="ja-JP",t.onresult=function(o){t.stop();for(var i=o.resultIndex;i<o.results.length;i++)if(o.results[i].isFinal){var r=o.results[i][0].transcript;r&&e.$store.dispatch("room/addComment",{comment:r})}},t.onend=function(){e.michrophoneEnabled&&t.start()},{newComment:"",michrophoneEnabled:!1,speech:t}},computed:_(_(_({},Object(c.c)("room",["roomId"])),Object(c.c)("user",["id"])),Object(c.b)("room",["roomInfo"])),methods:{submitComment:function(){var e=this.newComment;e&&(this.$store.dispatch("room/addComment",{userId:this.id,comment:e}),this.newComment="")},openCommentEditPrompt:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var r,n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$prompt("Please input new message (now: ".concat(e.content,")"),"Edit message",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).catch((function(){return{}}));case 2:if(r=o.sent,n=r.value){o.next=6;break}return o.abrupt("return");case 6:t.$store.dispatch("room/editComment",{commentId:e.id,comment:n});case 7:case"end":return o.stop()}}),o)})))()},toggleMichrophone:function(){this.michrophoneEnabled=!this.michrophoneEnabled,this.michrophoneEnabled?(this.speech.start(),console.log("start")):(this.speech.stop(),console.log("stop"))}}},j=(o(384),{components:{RoomView:v,TalkView:Object(l.a)(I,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.roomId?o("div",[o("div",{staticClass:"comment-view"},[e.roomInfo(e.roomId)?o("div",{staticClass:"comments-container"},e._l(e.roomInfo(e.roomId).comments,(function(t){return o("div",{key:t.id,staticClass:"comment"},[o("div",{staticClass:"comment-body",class:[t.user_id==e.id?"right-flush":"left-flush"]},[t.user_id==e.id?o("i",{staticClass:"fas fa-edit",on:{click:function(o){return e.openCommentEditPrompt(t)}}}):e._e(),e._v(" "),o("div",{staticClass:"comment-message"},[e._v("\n            "+e._s(t.content)+"\n          ")])])])})),0):o("div",{staticClass:"comments-container"}),e._v(" "),o("div",{staticClass:"comments-panel"},[o("div",{staticClass:"michrophone-button",class:{"border-red":e.michrophoneEnabled}},[o("i",{staticClass:"fa fa-2x",class:[e.michrophoneEnabled?"fa-microphone":"fa-microphone-slash"],on:{click:e.toggleMichrophone}})]),e._v(" "),o("form",{staticClass:"comment-input",on:{submit:function(t){return t.preventDefault(),e.submitComment(t)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newComment,expression:"newComment"}],attrs:{type:"text",placeholder:"Input comment..."},domProps:{value:e.newComment},on:{input:function(t){t.target.composing||(e.newComment=t.target.value)}}})])])]),e._v(" "),o("members-item",{staticClass:"folder-members",attrs:{"room-id":e.roomId}})],1):o("div",{staticClass:"talk-container"})}),[],!1,null,"8c58609e",null).exports}}),C=(o(386),Object(l.a)(j,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("room-view",{staticClass:"room-container"}),this._v(" "),t("talk-view",{staticClass:"talk-container"})],1)}),[],!1,null,null,null));t.default=C.exports}}]);